<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='UTF-8'>
    <title>States!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angular-material/0.11.4/angular-material.css">
  </head>
  <body data-ng-app='UnitedStatesApp'>  <!--this is a directive pre-fixed with 'data' telling everything contained within the body is angular-->
    <h1>A United States Angular App</h1>
    <main data-ng-controller='StatesController' data-ng-init="getAll()">
      <ul id="errorslist">
      <li data-ng-repeat="error in errors" data-ng-cloak>{{error}}</li>
    </ul>

    <form ng-cloak name="newStateForm" data-ng-submit="create(newState)">
      <h2>Add a State:</h2>

      <label for="newStateName">State:</label>
      <input type="text" id="newStateName" required data-ng-model="newState.name" placeholder="Washington">

      <label for="newFavoriteCity">Favorite City:</label>
      <input type="text" id="newFavoriteCity" data-ng-model="newState.city" placeholder="Seattle">

      <button type="submit" data-ng-disabled="newStateForm.$invalid">Submit New State</button>
    </form>

    <ul data-ng-cloak id='statelist'>
        <h3 data-ng-if="states.length>0">States</h3>
        <li data-ng-repeat='state in states'>
          <strong ng-cloak>{{state.name}}</strong> &nbsp;&nbsp;&nbsp;

        <form data-ng-cloak name="stateForm{{state._id}}" data-ng-submit="update(state)" data-ng-if="state.editing">
          <h2 id="currentName" ng-cloak>Update {{state.currentName}}</h2>

          <label for="stateName{{state._id}}">State:</label>
          <input type="text" id="stateName" required data-ng-model="state.name">

          <label for="favoriteCity">Favorite City:</label>
          <input type="text" id="favoriteCity" data-ng-model="state.city">

          <button type="submit">Save Changes</button>
          <button data-ng-click="cancel(state)">Cancel</button>
        </form>

          <a href="" data-ng-click="edit(state)">edit</a>&nbsp;

          <a href="" data-ng-if="!state.editing" data-ng-click="remove(state)">delete</a>
        </li>
      </ul>
    </main>
    <script src='bundle.js'></script>
  </body>
</html>
