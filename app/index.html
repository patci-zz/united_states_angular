<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='UTF-8'>
    <title>States!</title>
  </head>
  <body data-ng-app='UnitedStatesApp'>  <!--this is a directive pre-fixed with 'data' telling everything contained within the body is angular-->
    <h1>A United States Angular App</h1>
    <main data-ng-controller='StatesController' data-ng-init="getAll()">
      <ul id="errorslist">
      <li data-ng-repeat="error in errors">{{error}}</li>
    </ul>

    <form name="newStateForm" data-ng-submit="create(newState)">
      <h2>Add a State:</h2>

      <label for="newStateName">State:</label>
      <input type="text" id="newStateName" required data-ng-model="newState.name" placeholder="Washington">

      <label for="newFavoriteCity">Favorite City:</label>
      <input type="text" id="newFavoriteCity" data-ng-model="newState.city" placeholder="Seattle">

      <button type="submit" data-ng-disabled="newStateForm.$invalid">Submit New State</button>
    </form>

    <ul id='statelist'>
        <li data-ng-repeat='state in states'>
          {{state.name}}

        <form name="stateForm{{state._id}}" data-ng-submit="update(state)" data-ng-if="state.editing">
          <h2>Update {{state.name}}</h2>

          <label for="stateName{{state._id}}">State:</label>
          <input type="text" id="stateName" required data-ng-model="state.name">

          <label for="favoriteCity">Favorite City:</label>
          <input type="text" id="favoriteCity" data-ng-model="state.city">

          <button type="submit">Submit Changes</button>
          <button data-ng-click="state.editing = false">Cancel</button>
        </form>

          <button data-ng-if="!state.editing" data-ng-click="state.editing=true">Change this State?</button>

          <button data-ng-if="!state.editing" data-ng-click="remove(state)">Remove this State?</button>
        </li>
      </ul>
    </main>
    <script src='bundle.js'></script>
  </body>
</html>
